<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>12 Bubbles</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100vh;
  overflow: hidden;
  font-family: monospace;
  background-color: #0a0a0a;
  background-image: radial-gradient(circle at 30% 30%, #0ff1 10%, transparent 60%),
                    radial-gradient(circle at 70% 70%, #ff00ff1a 10%, transparent 60%),
                    linear-gradient(180deg, #000 0%, #111 100%);
  color: #0ff;
}

/* Home screen wrapper */
#homeScreen {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding-top:100px; /* posun dolů */
  height:100%;
}

/* Home title */
#homeTitle {
  font-size:60px;
  font-weight:bold;
  text-transform:uppercase;
  color:#0ff;
  text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff, 0 0 40px #0ff;
  margin-bottom:30px;
}

/* Tlačítka */
#startBtn, #indexBtn {
  font-size: 28px;
  padding: 15px 35px;
  background: linear-gradient(45deg, #00ffff, #00ff99, #ff00ff);
  border: none;
  border-radius: 12px;
  color: white;
  font-weight: bold;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 0 20px #0ff, 0 0 40px #0ff, 0 0 60px #0ff;
  margin: 15px 0;
}

/* Skóre, životy */
#scoreContainer {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1001;
  text-align: center;
  display: none;
}
#highscore { font-size: 20px; color: #ff0; margin-bottom: 5px; }
#score { font-size:28px; color:#0ff; }
#lives { font-size:20px; color:#f00; margin-top:5px; }

/* Countdown */
#countdown {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  font-size:80px;
  color:#0ff;
  text-shadow:0 0 20px #0ff, 0 0 40px #0ff;
  z-index:1001;
  display:none;
}

/* Bubliny */
.bubble {
  width:80px;
  height:80px;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:24px;
  font-weight:bold;
  color:#fff;
  background: linear-gradient(135deg,#00ffff,#ff00ff);
  border:2px solid #0ff;
  box-shadow:0 0 15px #0ff,0 0 30px #0ff inset;
  position:absolute;
  cursor:pointer;
  transition: transform 0.1s linear;
}
.bubble.rare2x { background: linear-gradient(135deg,#ffff00,#ff9900); color:#000; font-size:28px; }
.bubble.rare144 { background: linear-gradient(135deg,#00ff00,#00aa00); color:#000; font-size:28px; }
.bubble.triple { background: linear-gradient(135deg,#ff00ff,#9900ff); color:#fff; font-size:24px; }

</style>
</head>
<body>

<!-- Home screen -->
<div id="homeScreen">
  <div id="homeTitle">12 BUBBLES</div>
  <button id="startBtn">START</button>
  <button id="indexBtn">INDEX</button>
</div>

<div id="countdown"></div>
<div id="scoreContainer">
  <div id="highscore">Nejvyšší skóre: 0</div>
  <div id="score">Skóre: 0</div>
  <div id="lives">Životy: 3</div>
</div>

<audio id="popSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>

<script>
const startBtn = document.getElementById('startBtn');
const homeScreen = document.getElementById('homeScreen');
const countdownEl = document.getElementById('countdown');
const scoreContainer = document.getElementById('scoreContainer');
const scoreEl = document.getElementById('score');
const highscoreEl = document.getElementById('highscore');
const livesEl = document.getElementById('lives');
const popSound = document.getElementById('popSound');

let score = 0, highscore = 0, lives = 3, bubbles = [], gameRunning = false;

// START button
startBtn.addEventListener('click', ()=> {
  homeScreen.style.display='none';
  countdownEl.style.display='block';
  let count = 3;
  countdownEl.textContent = count;
  const interval = setInterval(()=>{
    count--;
    if(count>0) countdownEl.textContent = count;
    else{
      clearInterval(interval);
      countdownEl.style.display='none';
      scoreContainer.style.display='block';
      startGame();
    }
  },1000);
});

// Funkce pro start hry a spawn bublin
function startGame(){
  score=0; lives=3; bubbles=[]; gameRunning=true;
  scoreEl.textContent="Skóre: "+score;
  livesEl.textContent="Životy: "+lives;
  spawnBubble();
  requestAnimationFrame(updateBubbles);
}

// Funkce pro spawn bublin
function spawnBubble(){
  if(!gameRunning) return;
  const bubble = document.createElement('div');
  bubble.classList.add('bubble');
  bubble.textContent="12";
  bubble.style.left = Math.random()*(window.innerWidth-80)+"px";
  bubble.style.top = window.innerHeight + "px";
  document.body.appendChild(bubble);
  bubbles.push(bubble);

  // Kliknutí
  bubble.addEventListener('click', ()=>{
    score++;
    scoreEl.textContent="Skóre: "+score;
    popSound.currentTime=0; popSound.play();
    bubble.remove();
    bubbles = bubbles.filter(b => b!==bubble);
  });

  setTimeout(()=> spawnBubble(), 1000); // spawn každou vteřinu
}

// Funkce update bublin
function updateBubbles(){
  if(!gameRunning) return;
  bubbles.forEach(bubble=>{
    const top = parseFloat(bubble.style.top);
    if(top <= 0){
      lives--;
      livesEl.textContent="Životy: "+lives;
      bubble.remove();
      bubbles = bubbles.filter(b=>b!==bubble);
      if(lives<=0){
        gameRunning=false;
        alert("Konec hry! Skóre: "+score);
        scoreContainer.style.display='none';
        homeScreen.style.display='flex';
      }
    } else bubble.style.top = (top-1)+"px"; // pohyb nahoru
  });
  requestAnimationFrame(updateBubbles);
}
</script>
</body>
</html>
